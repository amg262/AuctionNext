{
	"info": {
		"_postman_id": "b7b81277-2c84-4dff-9eea-c700bf091333",
		"name": "AuctionNext",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Section 2",
			"item": [
				{
					"name": "Get all auctions",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Should be 10 items', function() {",
									"    pm.expect(jsonData.length).to.equal(10);",
									"})",
									"",
									"pm.test('First item should be Audi R8', function() {",
									"    pm.expect(jsonData[0].make).to.eq('Audi');",
									"    pm.expect(jsonData[0].model).to.eq('R8');",
									"})"
								],
								"type": "text/javascript",
								"id": "a4630630-7d29-4e98-9b60-f360d6e3f357"
							}
						}
					],
					"id": "0b065c86-9cfa-40ac-accf-d51ddc0a7bab",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{auctionApi}}/api/auctions"
					},
					"response": []
				},
				{
					"name": "Get Ferrari Spider",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Item is Ferrari Spider', function() {",
									"    pm.expect(jsonData.make).to.eq('Ferrari');",
									"    pm.expect(jsonData.model).to.eq('Spider');",
									"})"
								],
								"type": "text/javascript",
								"id": "7a6270e5-e337-43b0-8d01-3badf9b9cb5e"
							}
						}
					],
					"id": "92b4ac1f-dfd4-4249-8a1b-7f19e0ec6f40",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{auctionApi}}/api/auctions/dc1e4071-d19d-459b-b848-b5c3cd3d151f"
					},
					"response": []
				},
				{
					"name": "Create new Auction",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0554ad09-6291-45ab-a376-cc7df8180686",
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response body contains expected properties\", function () {",
									"    pm.expect(jsonData).to.haveOwnProperty('id');",
									"    pm.expect(jsonData).to.haveOwnProperty('make');",
									"    pm.expect(jsonData).to.haveOwnProperty('model');",
									"    pm.expect(jsonData).to.haveOwnProperty('year');",
									"    pm.expect(jsonData).to.haveOwnProperty('imageUrl');",
									"    pm.expect(jsonData).to.haveOwnProperty('seller');",
									"    pm.expect(jsonData.status).to.eq('Live');",
									"});",
									"",
									"pm.collectionVariables.set(\"createdItemId\", jsonData.id);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "2a7bfc0d-c5a0-4e52-b6b5-edfc70223b44",
								"exec": [
									"var date = new Date()",
									"date.setDate(date.getDate() + 14);",
									"var dateString = date.toISOString();",
									"pm.variables.set(\"dateString\", dateString);"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "b8bfe6c6-b7d0-47d3-bfc3-23bd34e495d5",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"Escort\",\n  \"color\": \"White\",\n  \"year\": \"2021\",\n  \"mileage\": \"10000\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": 100,\n  \"auctionEnd\": \"{{dateString}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{auctionApi}}/api/auctions"
					},
					"response": []
				},
				{
					"name": "Update the created auction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})"
								],
								"type": "text/javascript",
								"id": "7eb8205e-31da-44c6-8f55-be5834ef0977"
							}
						}
					],
					"id": "5cd2f1c9-51aa-4d96-846e-2219c3eb240b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"make\": \"Ford Updated\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Get Updated Auction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Make includes updated', function() {",
									"    pm.expect(jsonData.make).to.include('Updated');",
									"})"
								],
								"type": "text/javascript",
								"id": "7005084b-14cf-4004-9b3e-ec4d9a6b6b07"
							}
						}
					],
					"id": "e8afce19-6353-40fa-bb3e-7fd48cc43d82",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Delete Auction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})"
								],
								"type": "text/javascript",
								"id": "d0495ee4-3555-49c0-b4a7-0f2facf3cf30"
							}
						}
					],
					"id": "3dc877df-8d58-415e-8e0a-21afa4769195",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "DELETE",
						"header": [],
						"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Get Deleted Auction - Should return 404",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 404', function() {",
									"    pm.response.to.have.status(404);",
									"})"
								],
								"type": "text/javascript",
								"id": "38c450de-745b-4ae9-a3ce-f75a1b18ba3d"
							}
						}
					],
					"id": "3092cac0-e61f-4eec-b467-e9a8fe880f80",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
					},
					"response": []
				}
			],
			"id": "499cc679-9bba-4c30-870b-b2d53ae2d1f4"
		},
		{
			"name": "Section 3",
			"item": [
				{
					"name": "Get all items",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('First item is Audi', function() {",
									"    pm.expect(jsonData.results[0].make).to.eq('Audi');",
									"})",
									"",
									"pm.test('Result includes results, pagecount and totalcount properties', function() {",
									"    pm.expect(jsonData).to.haveOwnProperty('results');",
									"    pm.expect(jsonData).to.haveOwnProperty('pageCount');",
									"    pm.expect(jsonData).to.haveOwnProperty('totalCount');",
									"})"
								],
								"type": "text/javascript",
								"id": "c59379a5-06a2-4ed4-a39d-22cbf9b6451a"
							}
						}
					],
					"id": "6c9486a1-0d57-4eb4-8bd8-ef9a4e592045",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{searchApi}}/api/search"
					},
					"response": []
				},
				{
					"name": "Get all cars with make of Ford",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "51654a16-020f-4789-8ec6-d1616c7f1079",
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('First item is Ford', function() {",
									"    pm.expect(jsonData.results[0].make).to.eq('Ford');",
									"})",
									"",
									"pm.test('Result includes results, pagecount and totalcount properties', function() {",
									"    pm.expect(jsonData).to.haveOwnProperty('results');",
									"    pm.expect(jsonData).to.haveOwnProperty('pageCount');",
									"    pm.expect(jsonData).to.haveOwnProperty('totalCount');",
									"})"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "21edb547-28dc-4451-98ae-1920fea526e3",
								"exec": [],
								"type": "text/javascript"
							}
						}
					],
					"id": "dc01009f-5a6b-4737-a2d3-1815c80c4092",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{searchApi}}/api/search?searchTerm=ford",
							"host": [
								"{{searchApi}}"
							],
							"path": [
								"api",
								"search"
							],
							"query": [
								{
									"key": "searchTerm",
									"value": "ford"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all items With no params",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Result includes results, pagecount and totalcount properties', function() {",
									"    pm.expect(jsonData).to.haveOwnProperty('results');",
									"    pm.expect(jsonData).to.haveOwnProperty('pageCount');",
									"    pm.expect(jsonData).to.haveOwnProperty('totalCount');",
									"})",
									"",
									"pm.test('pagecount is 3 and totalCount is 9', function() {",
									"    pm.expect(jsonData.pageCount).to.eq(3);",
									"    pm.expect(jsonData.totalCount).to.eq(9);",
									"})"
								],
								"type": "text/javascript",
								"id": "937580a1-49aa-4d7f-853f-1b79ebdb68ef"
							}
						}
					],
					"id": "b57310a9-0c53-439f-9fe3-1824ea3f1272",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{searchApi}}/api/search"
					},
					"response": []
				},
				{
					"name": "Get all items With PageSize and PageNumber",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Result includes results, pagecount and totalcount properties', function() {",
									"    pm.expect(jsonData).to.haveOwnProperty('results');",
									"    pm.expect(jsonData).to.haveOwnProperty('pageCount');",
									"    pm.expect(jsonData).to.haveOwnProperty('totalCount');",
									"})"
								],
								"type": "text/javascript",
								"id": "d8533d20-b082-476d-a6dc-27a1e340a8c8"
							}
						}
					],
					"id": "2ddee630-0b89-4a15-9ecc-8fb8d2148849",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{searchApi}}/api/search?pageNumber=2&pageSize=2",
							"host": [
								"{{searchApi}}"
							],
							"path": [
								"api",
								"search"
							],
							"query": [
								{
									"key": "pageNumber",
									"value": "2"
								},
								{
									"key": "pageSize",
									"value": "2"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get all items With Bob as Seller",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5cb152f6-1616-4fbd-b01e-1d81bee83198",
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Result includes results, pagecount and totalcount properties', function() {",
									"    pm.expect(jsonData).to.haveOwnProperty('results');",
									"    pm.expect(jsonData).to.haveOwnProperty('pageCount');",
									"    pm.expect(jsonData).to.haveOwnProperty('totalCount');",
									"})"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "0e4fcf96-22a9-4f26-9f0f-5258a33c68f7",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "f651a9f6-580c-4c47-aaee-ad658e67f510",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{searchApi}}/api/search?filterBy=finished",
							"host": [
								"{{searchApi}}"
							],
							"path": [
								"api",
								"search"
							],
							"query": [
								{
									"key": "seller",
									"value": "bob",
									"disabled": true
								},
								{
									"key": "filterBy",
									"value": "finished"
								}
							]
						}
					},
					"response": []
				}
			],
			"id": "d40164a3-1b11-45c7-958d-8cba6ae98e2b"
		},
		{
			"name": "Section 4",
			"item": [
				{
					"name": "Checkpoint",
					"item": [
						{
							"name": "Create new Auction",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"pm.test(\"Response body contains expected properties\", function () {",
											"    pm.expect(jsonData).to.haveOwnProperty('id');",
											"    pm.expect(jsonData).to.haveOwnProperty('make');",
											"    pm.expect(jsonData).to.haveOwnProperty('model');",
											"    pm.expect(jsonData).to.haveOwnProperty('year');",
											"    pm.expect(jsonData).to.haveOwnProperty('imageUrl');",
											"    pm.expect(jsonData).to.haveOwnProperty('seller');",
											"    pm.expect(jsonData.status).to.eq('Live');",
											"});",
											"",
											"pm.collectionVariables.set(\"createdItemId\", jsonData.id);",
											"pm.collectionVariables.set(\"createdItemMileage\", jsonData.mileage);",
											"pm.collectionVariables.set(\"createdItemModel\", jsonData.model);"
										],
										"type": "text/javascript",
										"id": "a926dd09-0b85-47f3-8e38-df48884eb801"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var date = new Date()",
											"date.setDate(date.getDate() + 14);",
											"var dateString = date.toISOString();",
											"pm.variables.set(\"dateString\", dateString);"
										],
										"type": "text/javascript",
										"id": "336f874e-6431-4fe8-b404-74d7e2455d00"
									}
								}
							],
							"id": "476cc953-3a8a-487a-a178-9fbfec584a7d",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"{{$randomFirstName}}\",\n  \"color\": \"{{$randomColor}}\",\n  \"year\": \"2020\",\n  \"mileage\": \"{{$randomInt}}\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": {{$randomInt}},\n  \"auctionEnd\": \"{{dateString}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{auctionApi}}/api/auctions"
							},
							"response": []
						},
						{
							"name": "Get Item created from search svc",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})",
											"",
											"pm.test('Item has been created in search', function() {",
											"    var id = pm.collectionVariables.get('createdItemId');",
											"    pm.expect(jsonData.results[0].id).to.eq(id);",
											"})"
										],
										"type": "text/javascript",
										"id": "35219b8a-1d5a-4e53-ad3f-f5120154e35a"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, 1000);"
										],
										"type": "text/javascript",
										"id": "82a56e51-04b0-4475-bcf4-07bc4a599b25"
									}
								}
							],
							"id": "7c468084-fc0a-49e5-94bb-f3607a52938b",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{searchApi}}/api/search?searchTerm={{createdItemModel}}",
									"host": [
										"{{searchApi}}"
									],
									"path": [
										"api",
										"search"
									],
									"query": [
										{
											"key": "searchTerm",
											"value": "{{createdItemModel}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update the created auction Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})"
										],
										"type": "text/javascript",
										"id": "26cac839-6804-4006-94ad-a8c4be5df9db"
									}
								}
							],
							"id": "5b9ebc85-6176-482c-abb2-caf388ad3740",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"make\": \"Ford\",\n    \"model\": \"{{createdItemModel}}Updated\",\n    \"color\": \"red\",\n    \"mileage\": 20000,\n    \"year\": 1999\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
							},
							"response": []
						},
						{
							"name": "Get Item updated from search svc",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})",
											"",
											"pm.test('Item has updated model', function() {",
											"    pm.expect(jsonData.results[0].model).to.contain('Updated');",
											"})"
										],
										"type": "text/javascript",
										"id": "1edae70d-1e48-4f47-9031-e5fba3204f09"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, 1000);"
										],
										"type": "text/javascript",
										"id": "98fdb8f8-b424-4975-b601-a6f8d8693492"
									}
								}
							],
							"id": "65e9d049-50da-4770-83f0-e0651bb8df4a",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{searchApi}}/api/search?searchTerm={{createdItemModel}}Updated",
									"host": [
										"{{searchApi}}"
									],
									"path": [
										"api",
										"search"
									],
									"query": [
										{
											"key": "searchTerm",
											"value": "{{createdItemModel}}Updated"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Auction",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})"
										],
										"type": "text/javascript",
										"id": "e6aa05c7-1a68-42de-82e4-b387df450fec"
									}
								}
							],
							"id": "2c88e107-a38c-474e-a6ad-d24243af2b4e",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "DELETE",
								"header": [],
								"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
							},
							"response": []
						},
						{
							"name": "Get Item created - should return 0 results",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})",
											"",
											"pm.test('Item has been removed from searhc', function() {",
											"    pm.expect(jsonData.totalCount).to.eq(0);",
											"})"
										],
										"type": "text/javascript",
										"id": "d59f87dd-7dc1-4b63-8876-6028ab956830"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, 1000);"
										],
										"type": "text/javascript",
										"id": "9e880767-f0af-4378-9e5e-844a5b1f9abe"
									}
								}
							],
							"id": "e5998a6b-df30-4c83-a047-11631bc2befd",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{searchApi}}/api/search?searchTerm={{createdItemModel}}",
									"host": [
										"{{searchApi}}"
									],
									"path": [
										"api",
										"search"
									],
									"query": [
										{
											"key": "searchTerm",
											"value": "{{createdItemModel}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"id": "8a83c5ed-d293-4941-b279-e9cecdcb896f"
				},
				{
					"name": "Create new Auction",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f53ef1d9-5fce-440d-985f-8dcf0b62c5e1",
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response body contains expected properties\", function () {",
									"    pm.expect(jsonData).to.haveOwnProperty('id');",
									"    pm.expect(jsonData).to.haveOwnProperty('make');",
									"    pm.expect(jsonData).to.haveOwnProperty('model');",
									"    pm.expect(jsonData).to.haveOwnProperty('year');",
									"    pm.expect(jsonData).to.haveOwnProperty('imageUrl');",
									"    pm.expect(jsonData).to.haveOwnProperty('seller');",
									"    pm.expect(jsonData.status).to.eq('Live');",
									"});",
									"",
									"pm.collectionVariables.set(\"createdItemId\", jsonData.id);",
									"pm.collectionVariables.set(\"createdItemMileage\", jsonData.mileage);",
									"pm.collectionVariables.set(\"createdItemModel\", jsonData.model);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "544e391c-4418-4080-b30e-21c937756862",
								"exec": [
									"var date = new Date()",
									"date.setDate(date.getDate() + 14);",
									"var dateString = date.toISOString();",
									"pm.variables.set(\"dateString\", dateString);"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "d9fddc06-856d-4adf-bdb4-12a86e3059fb",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"Foo\",\n  \"color\": \"{{$randomColor}}\",\n  \"year\": \"2020\",\n  \"mileage\": \"{{$randomInt}}\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": {{$randomInt}},\n  \"auctionEnd\": \"{{dateString}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{auctionApi}}/api/auctions"
					},
					"response": []
				},
				{
					"name": "Get Item with createdItemModel",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "20cfd8c9-5e7c-47b4-aafa-ad119262fb3b",
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"var model = pm.collectionVariables.get('createdItemModel');",
									"",
									"var mileage = pm.collectionVariables.get('createdItemMileage');",
									"",
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Item has correct make and model', function() {",
									"    pm.expect(jsonData.results[0]).to.not.be.undefined;",
									"    pm.expect(jsonData.results[0].make).to.eq(model);",
									"    pm.expect(jsonData.results[0].mileage).to.eq(mileage);",
									"})",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "82544256-9882-4ee0-af3c-9e4c0e6a02d1",
								"exec": [],
								"type": "text/javascript"
							}
						}
					],
					"id": "a757d5d1-13d5-4011-b8d9-422f82d2b7a4",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{searchApi}}/api/search?searchTerm={{createdItemModel}}",
							"host": [
								"{{searchApi}}"
							],
							"path": [
								"api",
								"search"
							],
							"query": [
								{
									"key": "searchTerm",
									"value": "{{createdItemModel}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Item with FooBar",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "20cfd8c9-5e7c-47b4-aafa-ad119262fb3b",
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"var model = pm.collectionVariables.get('createdItemModel');",
									"",
									"var mileage = pm.collectionVariables.get('createdItemMileage');",
									"",
									"pm.test('Status code is 200', function () {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Item has correct make and model', function() {",
									"    pm.expect(jsonData.results[0]).to.not.be.undefined;",
									"    pm.expect(jsonData.results[0].make).to.eq(model);",
									"    pm.expect(jsonData.results[0].mileage).to.eq(mileage);",
									"})",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "82544256-9882-4ee0-af3c-9e4c0e6a02d1",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "e86da088-7eae-40e8-ae14-05e72b0b866f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{searchApi}}/api/search?searchTerm=FooBar",
							"host": [
								"{{searchApi}}"
							],
							"path": [
								"api",
								"search"
							],
							"query": [
								{
									"key": "searchTerm",
									"value": "FooBar"
								}
							]
						}
					},
					"response": []
				}
			],
			"id": "939978d2-4f99-40cc-876a-ec61049ff806"
		},
		{
			"name": "Section 5",
			"item": [
				{
					"name": "GetBobToken",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"",
									"pm.collectionVariables.set(\"BobToken\", response.access_token);"
								],
								"type": "text/javascript",
								"id": "59b0f7e0-d792-46b7-9e25-0404198cb1af"
							}
						}
					],
					"id": "13265722-3d6e-48c7-b687-54c460a09282",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "bob",
									"type": "text"
								},
								{
									"key": "password",
									"value": "Pass123$",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "postman",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "NotASecret",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "auctionApp openid profile",
									"type": "text"
								}
							]
						},
						"url": "{{identitySvc}}/connect/token"
					},
					"response": []
				},
				{
					"name": "GetTomToken",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"",
									"pm.collectionVariables.set(\"TomToken\", response.access_token);"
								],
								"type": "text/javascript",
								"id": "94ccdbdf-b10b-4fdd-a6af-adc22cce23b2"
							}
						}
					],
					"id": "739e0faf-b769-46c8-a5ca-305884e80c8d",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "tom",
									"type": "text"
								},
								{
									"key": "password",
									"value": "Pass123$",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "postman",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "NotASecret",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "auctionApp openid profile",
									"type": "text"
								}
							]
						},
						"url": "{{identitySvc}}/connect/token"
					},
					"response": []
				},
				{
					"name": "GetAliceToken",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"",
									"pm.collectionVariables.set(\"AliceToken\", response.access_token);"
								],
								"type": "text/javascript",
								"id": "c35f3958-e9a2-479a-aa29-77da5de04f7d"
							}
						}
					],
					"id": "ce919a8d-79b3-4493-a87d-75503e821ba6",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "alice",
									"type": "text"
								},
								{
									"key": "password",
									"value": "Pass123$",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "postman",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "NotASecret",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "auctionApp openid profile",
									"type": "text"
								}
							]
						},
						"url": "{{identitySvc}}/connect/token"
					},
					"response": []
				},
				{
					"name": "Get User Info",
					"id": "07d7d047-50eb-4ddc-a654-197f66731bc7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{BobToken}}"
							}
						},
						"method": "GET",
						"header": [],
						"url": "http://localhost:5000/connect/userinfo"
					},
					"response": []
				},
				{
					"name": "Create new Auction no auth",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript",
								"id": "36af5695-26f1-4113-bab8-c294ac946adb"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var date = new Date()",
									"date.setDate(date.getDate() + 14);",
									"var dateString = date.toISOString();",
									"pm.variables.set(\"dateString\", dateString);"
								],
								"type": "text/javascript",
								"id": "d4526f1f-96a3-4e4a-a423-3614fc916183"
							}
						}
					],
					"id": "fa2d15d2-a117-4c5d-87e3-cb63833cf6b4",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"Escort\",\n  \"color\": \"White\",\n  \"year\": \"2021\",\n  \"mileage\": \"10000\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": 100,\n  \"auctionEnd\": \"{{dateString}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{auctionApi}}/api/auctions"
					},
					"response": []
				},
				{
					"name": "Create new Auction as Alice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response body contains Alice as seller\", function () {",
									"    pm.expect(jsonData).to.haveOwnProperty('seller');",
									"    pm.expect(jsonData.seller).to.eq('alice');",
									"});",
									"",
									"pm.collectionVariables.set(\"createdItemId\", jsonData.id);"
								],
								"type": "text/javascript",
								"id": "da430330-166e-4172-ab51-6e531263e09d"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var date = new Date()",
									"date.setDate(date.getDate() + 14);",
									"var dateString = date.toISOString();",
									"pm.variables.set(\"dateString\", dateString);"
								],
								"type": "text/javascript",
								"id": "b478a1e5-56f1-4652-a618-6492e7c4c3d4"
							}
						}
					],
					"id": "90b9730f-97e1-407f-817e-9beaff009599",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{AliceToken}}"
							}
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"Escort\",\n  \"color\": \"White\",\n  \"year\": \"2021\",\n  \"mileage\": \"10000\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": 100,\n  \"auctionEnd\": \"{{dateString}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{auctionApi}}/api/auctions"
					},
					"response": []
				},
				{
					"name": "Update the created auction as Bob",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 403', function() {",
									"    pm.response.to.have.status(403);",
									"})"
								],
								"type": "text/javascript",
								"id": "a1fb1b73-05bc-445f-9cc1-17471dc6ade8"
							}
						}
					],
					"id": "c111c8c7-71de-481a-b024-0049e1ecc440",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{BobToken}}"
							}
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"make\": \"Ford Updated\",\n    \"model\": \"Updated\",\n    \"color\": \"red\",\n    \"mileage\": 20000,\n    \"year\": 1999\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Update the created auction as Alice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})"
								],
								"type": "text/javascript",
								"id": "f8eb5fa5-d5d4-48df-af57-35f62810dfe0"
							}
						}
					],
					"id": "043c0572-e5cb-4a47-82c0-a6ce8b382ed5",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{AliceToken}}"
							}
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"make\": \"Ford Updated\",\n    \"model\": \"Updated\",\n    \"color\": \"red\",\n    \"mileage\": 20000,\n    \"year\": 1999\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Delete Auction as Alice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})"
								],
								"type": "text/javascript",
								"id": "3c08f8ae-e076-456d-8295-9627ddf749c7"
							}
						}
					],
					"id": "552e38ce-fe84-47a2-a890-d30833e5d1d2",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{AliceToken}}"
							}
						},
						"method": "DELETE",
						"header": [],
						"url": "{{auctionApi}}/api/auctions/{{createdItemId}}"
					},
					"response": []
				}
			],
			"id": "a3fc779d-9587-4d96-baa8-a5be966f57ff"
		},
		{
			"name": "Section 6",
			"item": [
				{
					"name": "GetBobToken",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"",
									"pm.collectionVariables.set(\"BobToken\", response.access_token);"
								],
								"type": "text/javascript",
								"id": "8697146c-6dc9-4fa7-b8b4-36a567af229c"
							}
						}
					],
					"id": "20a39076-59cc-4b6c-b0a3-d653801fd26a",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "bob",
									"type": "text"
								},
								{
									"key": "password",
									"value": "Pass123$",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "postman",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "NotASecret",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "auctionApp openid profile",
									"type": "text"
								}
							]
						},
						"url": "{{identitySvc}}/connect/token"
					},
					"response": []
				},
				{
					"name": "GetAliceToken",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"",
									"pm.collectionVariables.set(\"AliceToken\", response.access_token);"
								],
								"type": "text/javascript",
								"id": "a595b832-cda1-425c-abb9-7bfa770afc05"
							}
						}
					],
					"id": "481e968f-732e-47f9-852b-dc2cb4a27089",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "alice",
									"type": "text"
								},
								{
									"key": "password",
									"value": "Pass123$",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "postman",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "NotASecret",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "auctionApp openid profile",
									"type": "text"
								}
							]
						},
						"url": "{{identitySvc}}/connect/token"
					},
					"response": []
				},
				{
					"name": "Get all items",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Result includes results, pagecount and totalcount properties', function() {",
									"    pm.expect(jsonData).to.haveOwnProperty('results');",
									"    pm.expect(jsonData).to.haveOwnProperty('pageCount');",
									"    pm.expect(jsonData).to.haveOwnProperty('totalCount');",
									"})"
								],
								"type": "text/javascript",
								"id": "fbc75f8a-fd74-403a-b8f0-b68ec1611831"
							}
						}
					],
					"id": "585951c1-16e4-452d-a6db-a9bad041671c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{gateway}}/search"
					},
					"response": []
				},
				{
					"name": "Get all cars with make of Ford",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('First item is Ford', function() {",
									"    pm.expect(jsonData.results[0].make).to.eq('Ford');",
									"})",
									"",
									"pm.test('Result includes results, pagecount and totalcount properties', function() {",
									"    pm.expect(jsonData).to.haveOwnProperty('results');",
									"    pm.expect(jsonData).to.haveOwnProperty('pageCount');",
									"    pm.expect(jsonData).to.haveOwnProperty('totalCount');",
									"})"
								],
								"type": "text/javascript",
								"id": "643fd3a2-8d11-45b8-92b3-357f2a0727ef"
							}
						}
					],
					"id": "21ee1abf-6011-4e13-8953-53fe8622a555",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway}}/search?searchTerm=ford",
							"host": [
								"{{gateway}}"
							],
							"path": [
								"search"
							],
							"query": [
								{
									"key": "searchTerm",
									"value": "ford"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create new Auction as Alice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response body contains Alice as seller\", function () {",
									"    pm.expect(jsonData).to.haveOwnProperty('seller');",
									"    pm.expect(jsonData.seller).to.eq('alice');",
									"});",
									"",
									"pm.collectionVariables.set(\"createdItemId\", jsonData.id);"
								],
								"type": "text/javascript",
								"id": "cab6b90b-c7be-42e0-ab20-45efd141666e"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var date = new Date()",
									"date.setDate(date.getDate() + 14);",
									"var dateString = date.toISOString();",
									"pm.variables.set(\"dateString\", dateString);"
								],
								"type": "text/javascript",
								"id": "3b1af68e-e4ab-4108-9050-c9dc5e8c7ddf"
							}
						}
					],
					"id": "72869ce5-80f8-4083-9df1-8b7692ddbe45",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{AliceToken}}"
							}
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"Escort\",\n  \"color\": \"White\",\n  \"year\": \"2021\",\n  \"mileage\": \"10000\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": 100,\n  \"auctionEnd\": \"{{dateString}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{gateway}}/auctions"
					},
					"response": []
				},
				{
					"name": "Get Item by Id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Item has correct make and model', function() {",
									"    pm.expect(jsonData.make).to.eq('Ford');",
									"    pm.expect(jsonData.model).to.eq('Escort');",
									"})"
								],
								"type": "text/javascript",
								"id": "35c431fc-ea71-4094-8868-b30455abaa76"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){}, 1000);"
								],
								"type": "text/javascript",
								"id": "e300ae80-97b0-4e4a-af8d-576fb5f46fe4"
							}
						}
					],
					"id": "015ad47f-8d55-4cf4-9958-cdeddb606c30",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{gateway}}/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Update the created auction as Bob",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 403', function() {",
									"    pm.response.to.have.status(403);",
									"})"
								],
								"type": "text/javascript",
								"id": "377c849f-9dce-4432-b032-dc7942bb47b2"
							}
						}
					],
					"id": "b2344d2e-d8db-4158-8fdc-d6fcd6cbdb95",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{BobToken}}"
							}
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"make\": \"Ford Updated\",\n    \"model\": \"Updated\",\n    \"color\": \"red\",\n    \"mileage\": 20000,\n    \"year\": 1999\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{gateway}}/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Update the created auction as Alice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})"
								],
								"type": "text/javascript",
								"id": "99eaa004-e4db-4b92-a0d0-fadad84fd671"
							}
						}
					],
					"id": "b40c2a74-a34a-4851-876e-21f8b8d8670e",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{AliceToken}}"
							}
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"make\": \"Ford Updated\",\n    \"model\": \"Updated\",\n    \"color\": \"red\",\n    \"mileage\": 20000,\n    \"year\": 1999\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{gateway}}/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Get Updated Item by Id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})",
									"",
									"pm.test('Item has correct make and model', function() {",
									"    pm.expect(jsonData.make).to.eq('Ford Updated');",
									"    pm.expect(jsonData.model).to.eq('Updated');",
									"})"
								],
								"type": "text/javascript",
								"id": "4ad62e7f-7952-41df-8eb8-a0d737da9ade"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){}, 1000);"
								],
								"type": "text/javascript",
								"id": "54e08574-11b2-4246-bd6b-4e190bc7b2dd"
							}
						}
					],
					"id": "25c68817-8b09-4fce-a5dd-5a4e7ee698e7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{gateway}}/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Delete Auction as Alice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 200', function() {",
									"    pm.response.to.have.status(200);",
									"})"
								],
								"type": "text/javascript",
								"id": "ce6837d0-04c3-46e2-af05-d36212790859"
							}
						}
					],
					"id": "705230f6-433e-47ff-8493-fa3a5bc34f03",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{AliceToken}}"
							}
						},
						"method": "DELETE",
						"header": [],
						"url": "{{gateway}}/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Get Deleted Item return 404",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status code is 404', function() {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript",
								"id": "fcd7f757-518c-45ad-8661-c22aa3c38f40"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){}, 1000);"
								],
								"type": "text/javascript",
								"id": "80bc62f0-93cc-4168-8c68-56deda449000"
							}
						}
					],
					"id": "a0f02af5-9c66-4a9b-9ae0-f08f5dd1c4c3",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{gateway}}/auctions/{{createdItemId}}"
					},
					"response": []
				}
			],
			"id": "49a4fd0a-60e7-40a5-92da-fd8efa4e5c07"
		},
		{
			"name": "Section 7",
			"item": [
				{
					"name": "Checkpoint",
					"item": [
						{
							"name": "GetBobToken",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.collectionVariables.set(\"BobToken\", response.access_token);"
										],
										"type": "text/javascript",
										"id": "67459045-d613-4681-9b7f-d50994377ad6"
									}
								}
							],
							"id": "443049fb-79db-45a9-90e6-f6041ec525c5",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "grant_type",
											"value": "password",
											"type": "text"
										},
										{
											"key": "username",
											"value": "bob",
											"type": "text"
										},
										{
											"key": "password",
											"value": "Pass123$",
											"type": "text"
										},
										{
											"key": "client_id",
											"value": "postman",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "NotASecret",
											"type": "text"
										},
										{
											"key": "scope",
											"value": "auctionApp openid profile",
											"type": "text"
										}
									]
								},
								"url": "{{identitySvc}}/connect/token"
							},
							"response": []
						},
						{
							"name": "Create new Auction",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"pm.test(\"Response body contains expected properties\", function () {",
											"    pm.expect(jsonData).to.haveOwnProperty('id');",
											"    pm.expect(jsonData).to.haveOwnProperty('make');",
											"    pm.expect(jsonData).to.haveOwnProperty('model');",
											"    pm.expect(jsonData).to.haveOwnProperty('year');",
											"    pm.expect(jsonData).to.haveOwnProperty('imageUrl');",
											"    pm.expect(jsonData).to.haveOwnProperty('seller');",
											"    pm.expect(jsonData.status).to.eq('Live');",
											"});",
											"",
											"pm.test(\"Response body contains Bob as seller\", function () {",
											"    pm.expect(jsonData).to.haveOwnProperty('seller');",
											"    pm.expect(jsonData.seller).to.eq('bob');",
											"});",
											"",
											"pm.collectionVariables.set(\"createdItemId\", jsonData.id);",
											"pm.collectionVariables.set(\"createdItemMileage\", jsonData.mileage);",
											"pm.collectionVariables.set(\"createdItemModel\", jsonData.model);"
										],
										"type": "text/javascript",
										"id": "e35117f6-b415-4cab-aabd-3c5dba4e823b"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var date = new Date()",
											"date.setDate(date.getDate() + 14);",
											"var dateString = date.toISOString();",
											"pm.variables.set(\"dateString\", dateString);"
										],
										"type": "text/javascript",
										"id": "776de113-97e2-4130-8d0b-8fbe6a50a7c8"
									}
								}
							],
							"id": "82eed165-9cc2-49e5-8c3e-21ecebfdd9ff",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{BobToken}}"
									}
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"{{$randomFirstName}}\",\n  \"color\": \"{{$randomColor}}\",\n  \"year\": \"2020\",\n  \"mileage\": \"{{$randomInt}}\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": {{$randomInt}},\n  \"auctionEnd\": \"{{dateString}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{gateway}}/auctions"
							},
							"response": []
						},
						{
							"name": "Get Item created from search svc",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})",
											"",
											"pm.test('Item has been created in search', function() {",
											"    var id = pm.collectionVariables.get('createdItemId');",
											"    pm.expect(jsonData.results[0].id).to.eq(id);",
											"})"
										],
										"type": "text/javascript",
										"id": "610c3a6f-06d5-4e04-84b1-036a36e07c34"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, 1000);"
										],
										"type": "text/javascript",
										"id": "0a6eb70c-7e23-482b-b8a5-235d7cc800ee"
									}
								}
							],
							"id": "8bb34397-c331-4acb-ab07-e25dd8acaf32",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{gateway}}/search?searchTerm={{createdItemModel}}",
									"host": [
										"{{gateway}}"
									],
									"path": [
										"search"
									],
									"query": [
										{
											"key": "searchTerm",
											"value": "{{createdItemModel}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update the created auction Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e5e7f217-350f-4eba-aedb-1c2582bb6caa",
										"exec": [
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e128099b-fb3b-4ab8-8d2b-a14c7ff5e176",
										"exec": [],
										"type": "text/javascript"
									}
								}
							],
							"id": "e9e7191c-a124-4e05-b47d-d31fb4ec919d",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{BobToken}}"
									}
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"mileage\": 1999,\n\t\"make\": \"Rari\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{gateway}}/auctions/afbee524-5972-4075-8800-7d1f9d7b0a0c"
							},
							"response": []
						},
						{
							"name": "Get Item updated from search svc",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})",
											"",
											"pm.test('Item has updated model', function() {",
											"    pm.expect(jsonData.results[0].model).to.contain('Updated');",
											"})"
										],
										"type": "text/javascript",
										"id": "f611fe1c-ac75-4aa5-aa16-ac90bbfa868f"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, 1000);"
										],
										"type": "text/javascript",
										"id": "8d308cb0-a7d7-4b2d-92f9-521c73879102"
									}
								}
							],
							"id": "4de00220-19ce-4a37-97b1-7b33b1bfe2b6",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{gateway}}/search?searchTerm={{createdItemModel}}Updated",
									"host": [
										"{{gateway}}"
									],
									"path": [
										"search"
									],
									"query": [
										{
											"key": "searchTerm",
											"value": "{{createdItemModel}}Updated"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Auction",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})"
										],
										"type": "text/javascript",
										"id": "74ad1c02-e5b2-43aa-a33a-a3c4f8321dfd"
									}
								}
							],
							"id": "c1a7ddf2-613d-43aa-8add-30756a11e735",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{BobToken}}"
									}
								},
								"method": "DELETE",
								"header": [],
								"url": "{{gateway}}/auctions/{{createdItemId}}"
							},
							"response": []
						},
						{
							"name": "Get Item created - should return 0 results",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test('Status code is 200', function() {",
											"    pm.response.to.have.status(200);",
											"})",
											"",
											"pm.test('Item has been removed from searhc', function() {",
											"    pm.expect(jsonData.totalCount).to.eq(0);",
											"})"
										],
										"type": "text/javascript",
										"id": "9559647e-944a-4c46-859a-201a8fc91a56"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, 1000);"
										],
										"type": "text/javascript",
										"id": "ddd60106-42b4-4ffb-a57e-56406cd8ff39"
									}
								}
							],
							"id": "0eda2ef4-491a-4619-80b4-0628f3eb30af",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{gateway}}/search?searchTerm={{createdItemModel}}",
									"host": [
										"{{gateway}}"
									],
									"path": [
										"search"
									],
									"query": [
										{
											"key": "searchTerm",
											"value": "{{createdItemModel}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"id": "612ea131-d574-4348-a92d-63a9e3b23100"
				}
			],
			"id": "5da4fcea-ee16-46c1-ac29-2f9a534fff13"
		},
		{
			"name": "Section 11",
			"item": [
				{
					"name": "Checkpoint",
					"item": [
						{
							"name": "GetBobToken",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.collectionVariables.set(\"BobToken\", response.access_token);"
										],
										"type": "text/javascript",
										"id": "4298d20d-5c8c-491d-8530-3b29308c3cb3"
									}
								}
							],
							"id": "b80669a2-ed1b-43e0-945c-3b33a266f7f6",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "grant_type",
											"value": "password",
											"type": "text"
										},
										{
											"key": "username",
											"value": "bob",
											"type": "text"
										},
										{
											"key": "password",
											"value": "Pass123$",
											"type": "text"
										},
										{
											"key": "client_id",
											"value": "postman",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "NotASecret",
											"type": "text"
										},
										{
											"key": "scope",
											"value": "auctionApp openid profile",
											"type": "text"
										}
									]
								},
								"url": "{{identitySvc}}/connect/token"
							},
							"response": []
						},
						{
							"name": "Create new Auction as Bob",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"pm.test(\"Response body contains Alice as seller\", function () {",
											"    pm.expect(jsonData).to.haveOwnProperty('seller');",
											"    pm.expect(jsonData.seller).to.eq('bob');",
											"});",
											"",
											"pm.collectionVariables.set(\"createdItemId\", jsonData.id);"
										],
										"type": "text/javascript",
										"id": "3a7bd070-c683-4874-b821-7745bdc103b9"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var date = new Date()",
											"date.setDate(date.getDate() + 14);",
											"var dateString = date.toISOString();",
											"pm.variables.set(\"dateString\", dateString);"
										],
										"type": "text/javascript",
										"id": "871f1cd6-e52e-4f33-9034-98e586647940"
									}
								}
							],
							"id": "5da821f1-0d42-4d66-9fe7-30622ce004c0",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{BobToken}}"
									}
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"Escort\",\n  \"color\": \"White\",\n  \"year\": \"2021\",\n  \"mileage\": \"10000\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": 1111,\n  \"auctionEnd\": \"{{dateString}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{gateway}}/auctions"
							},
							"response": []
						},
						{
							"name": "GetAliceToken",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.collectionVariables.set(\"AliceToken\", response.access_token);"
										],
										"type": "text/javascript",
										"id": "d90f96bb-8ec7-48d1-a9eb-c4b56276ddf6"
									}
								}
							],
							"id": "a1c717c6-6083-4763-a0de-99dfd99e2a06",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "grant_type",
											"value": "password",
											"type": "text"
										},
										{
											"key": "username",
											"value": "alice",
											"type": "text"
										},
										{
											"key": "password",
											"value": "Pass123$",
											"type": "text"
										},
										{
											"key": "client_id",
											"value": "postman",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "NotASecret",
											"type": "text"
										},
										{
											"key": "scope",
											"value": "auctionApp openid profile",
											"type": "text"
										}
									]
								},
								"url": "{{identitySvc}}/connect/token"
							},
							"response": []
						},
						{
							"name": "Create Bid As Alice for 100",
							"id": "04a44a1d-9e60-4c86-bed8-d5053fb35bb4",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{AliceToken}}"
									}
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{gateway}}/bids?auctionId={{createdItemId}}&amount=100000",
									"host": [
										"{{gateway}}"
									],
									"path": [
										"bids"
									],
									"query": [
										{
											"key": "auctionId",
											"value": "{{createdItemId}}"
										},
										{
											"key": "amount",
											"value": "100000"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get bids for auction",
							"id": "54d1ed36-f511-40a1-9692-0e06c2b147d9",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "{{gateway}}/bids/{{createdItemId}}"
							},
							"response": []
						},
						{
							"name": "Get bids for auction Copy",
							"id": "1670cb4d-8894-440a-9c04-f2b3ee03da22",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": "{{gateway}}/bids/6a5011a1-fe1f-47df-9a32-b5346b289391"
							},
							"response": []
						},
						{
							"name": "Create Bid on Ford Mustang Auction (test grpc)",
							"id": "0e2fe550-897d-42eb-9afd-6fa49124554f",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{BobToken}}"
									}
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{gateway}}/bids?auctionId=bbab4d5a-8565-48b1-9450-5ac2a5c4a654&amount=100",
									"host": [
										"{{gateway}}"
									],
									"path": [
										"bids"
									],
									"query": [
										{
											"key": "auctionId",
											"value": "bbab4d5a-8565-48b1-9450-5ac2a5c4a654"
										},
										{
											"key": "amount",
											"value": "100"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Bid on Ford Mustang Auction (test grpc) Copy",
							"id": "d283d682-cab0-41ec-8225-ff9ab0c0cb74",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{BobToken}}"
									}
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{gateway}}/bids?auctionId=6a5011a1-fe1f-47df-9a32-b5346b289391&amount=100009",
									"host": [
										"{{gateway}}"
									],
									"path": [
										"bids"
									],
									"query": [
										{
											"key": "auctionId",
											"value": "6a5011a1-fe1f-47df-9a32-b5346b289391"
										},
										{
											"key": "amount",
											"value": "100009"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Alice Bid on Ford Mustang Auction (test grpc)",
							"id": "832b7e94-32af-4b35-b769-c26268255260",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{AliceToken}}"
									}
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{gateway}}/bids?auctionId=bbab4d5a-8565-48b1-9450-5ac2a5c4a654&amount=100000",
									"host": [
										"{{gateway}}"
									],
									"path": [
										"bids"
									],
									"query": [
										{
											"key": "auctionId",
											"value": "bbab4d5a-8565-48b1-9450-5ac2a5c4a654"
										},
										{
											"key": "amount",
											"value": "100000"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Alice Bid on Ford Mustang Auction (test grpc) Copy",
							"id": "ccbccbca-62b7-4467-839b-54c7fe58b0d6",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{AliceToken}}"
									}
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{gateway}}/bids?auctionId=6a5011a1-fe1f-47df-9a32-b5346b289391&amount=100000",
									"host": [
										"{{gateway}}"
									],
									"path": [
										"bids"
									],
									"query": [
										{
											"key": "auctionId",
											"value": "6a5011a1-fe1f-47df-9a32-b5346b289391"
										},
										{
											"key": "amount",
											"value": "100000"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Bid on Ford Mustang Auction (test grpc) Copy",
							"id": "95f0bf91-792b-4e7b-8b08-a7fe3c33346a",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": {
										"token": "{{BobToken}}"
									}
								},
								"method": "GET",
								"header": [],
								"url": "http://auction-svc"
							},
							"response": []
						}
					],
					"id": "38c61d54-72ee-4e97-a658-53a15bed904a"
				},
				{
					"name": "GetBobToken",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"",
									"pm.collectionVariables.set(\"BobToken\", response.access_token);"
								],
								"type": "text/javascript",
								"id": "289fb463-f67c-4707-9f49-5ca9661c3641"
							}
						}
					],
					"id": "8ca7ef4c-31f5-4d6f-92ea-563e4579a943",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "bob",
									"type": "text"
								},
								{
									"key": "password",
									"value": "Pass123$",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "postman",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "NotASecret",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "auctionApp openid profile",
									"type": "text"
								}
							]
						},
						"url": "{{identitySvc}}/connect/token"
					},
					"response": []
				},
				{
					"name": "Create new Auction as Bob",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response body contains Alice as seller\", function () {",
									"    pm.expect(jsonData).to.haveOwnProperty('seller');",
									"    pm.expect(jsonData.seller).to.eq('bob');",
									"});",
									"",
									"pm.collectionVariables.set(\"createdItemId\", jsonData.id);",
									"pm.collectionVariables.set(\"createdItemMileage\", jsonData.mileage);",
									"pm.collectionVariables.set(\"createdItemModel\", jsonData.model);"
								],
								"type": "text/javascript",
								"id": "5083b0c6-9444-44c5-b60c-064315085b18"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var date = new Date()",
									"date.setDate(date.getDate() + 14);",
									"var dateString = date.toISOString();",
									"pm.variables.set(\"dateString\", dateString);"
								],
								"type": "text/javascript",
								"id": "def272f6-d53f-443f-a619-16b22abcab5a"
							}
						}
					],
					"id": "4b60767c-d1d1-4083-867f-fb703c0d3b3f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{BobToken}}"
							}
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"{{$randomFirstName}}\",\n  \"color\": \"White\",\n  \"year\": \"2021\",\n  \"mileage\": \"10000\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": 1111,\n  \"auctionEnd\": \"{{dateString}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{auctionApi}}/api/auctions"
					},
					"response": []
				},
				{
					"name": "GetTomToken",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e9bf7c92-1ad6-40d6-b578-44bce918f4cb",
								"exec": [
									"var response = pm.response.json();",
									"",
									"pm.collectionVariables.set(\"TomToken\", response.access_token);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "caec7924-180a-470c-82ce-beb93624ef6e",
								"exec": [],
								"type": "text/javascript"
							}
						}
					],
					"id": "2e6af75c-acb4-4e29-ba7c-6bf9db90c36d",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "tom",
									"type": "text"
								},
								{
									"key": "password",
									"value": "Pass123$",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "postman",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "NotASecret",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "auctionApp openid profile",
									"type": "text"
								}
							]
						},
						"url": "http://localhost:5000/connect/token"
					},
					"response": []
				},
				{
					"name": "GetAliceToken",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response.json();",
									"",
									"pm.collectionVariables.set(\"AliceToken\", response.access_token);"
								],
								"type": "text/javascript",
								"id": "e43cec5b-fdd2-43bc-8ef9-3cd09c8406e3"
							}
						}
					],
					"id": "4f6e49eb-1abb-4df4-9d53-699efd64bd89",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "alice",
									"type": "text"
								},
								{
									"key": "password",
									"value": "Pass123$",
									"type": "text"
								},
								{
									"key": "client_id",
									"value": "postman",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "NotASecret",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "auctionApp openid profile",
									"type": "text"
								}
							]
						},
						"url": "{{identitySvc}}/connect/token"
					},
					"response": []
				},
				{
					"name": "Create Bid As Alice for 100",
					"id": "400fa1d3-5763-45b5-ba04-ccbf707138c2",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{AliceToken}}"
							}
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{bidSvc}}/api/bids?auctionId={{createdItemId}}&amount=100",
							"host": [
								"{{bidSvc}}"
							],
							"path": [
								"api",
								"bids"
							],
							"query": [
								{
									"key": "auctionId",
									"value": "{{createdItemId}}"
								},
								{
									"key": "amount",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Bid As Tom for 200",
					"id": "44bdebf6-c3c8-464a-8299-05d9a2988724",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{TomToken}}"
							}
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{bidSvc}}/api/bids?auctionId={{createdItemId}}&amount=20022",
							"host": [
								"{{bidSvc}}"
							],
							"path": [
								"api",
								"bids"
							],
							"query": [
								{
									"key": "auctionId",
									"value": "{{createdItemId}}"
								},
								{
									"key": "amount",
									"value": "20022"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get bids for auction",
					"id": "4b6db08f-52b3-4b49-a5cc-b6cc867e8139",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{bidSvc}}/api/bids/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Get Created Auction details",
					"id": "4eb9d575-babe-4e2b-91fc-fb29f470478e",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{gateway}}/auctions/{{createdItemId}}"
					},
					"response": []
				},
				{
					"name": "Get Created Auction search",
					"id": "69d7102b-0eb2-4591-a153-08cbab0301f2",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway}}/search?pageSize=100&searchTerm={{createdItemModel}}",
							"host": [
								"{{gateway}}"
							],
							"path": [
								"search"
							],
							"query": [
								{
									"key": "pageSize",
									"value": "100"
								},
								{
									"key": "searchTerm",
									"value": "{{createdItemModel}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create 10 second Auction as Bob",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response body contains Alice as seller\", function () {",
									"    pm.expect(jsonData).to.haveOwnProperty('seller');",
									"    pm.expect(jsonData.seller).to.eq('bob');",
									"});",
									"",
									"pm.collectionVariables.set(\"createdItemId\", jsonData.id);",
									"pm.collectionVariables.set(\"createdItemMileage\", jsonData.mileage);",
									"pm.collectionVariables.set(\"createdItemModel\", jsonData.model);"
								],
								"type": "text/javascript",
								"id": "38f5833f-0719-4710-884d-799a1f028db0"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var date = new Date(new Date().getTime() + 20000);",
									"var dateString = date.toISOString();",
									"pm.variables.set(\"dateString\", dateString);"
								],
								"type": "text/javascript",
								"id": "3dad9145-cbdc-4312-9ac2-a4015f82d3cf"
							}
						}
					],
					"id": "6e852ea0-6ba0-42fe-8957-c7399924d5b5",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{BobToken}}"
							}
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"{{$randomFirstName}}\",\n  \"color\": \"White\",\n  \"year\": \"2021\",\n  \"mileage\": \"10000\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": 10,\n  \"auctionEnd\": \"{{dateString}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{gateway}}/auctions"
					},
					"response": []
				},
				{
					"name": "Create 10 second Auction as Bob Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38f5833f-0719-4710-884d-799a1f028db0",
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response body contains Alice as seller\", function () {",
									"    pm.expect(jsonData).to.haveOwnProperty('seller');",
									"    pm.expect(jsonData.seller).to.eq('bob');",
									"});",
									"",
									"pm.collectionVariables.set(\"createdItemId\", jsonData.id);",
									"pm.collectionVariables.set(\"createdItemMileage\", jsonData.mileage);",
									"pm.collectionVariables.set(\"createdItemModel\", jsonData.model);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "3dad9145-cbdc-4312-9ac2-a4015f82d3cf",
								"exec": [
									"var date = new Date(new Date().getTime() + 20000);",
									"var dateString = date.toISOString();",
									"pm.variables.set(\"dateString\", dateString);"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "3294b6e5-aa42-4daa-aea1-ac54a763b0b4",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{BobToken}}"
							}
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Ford\",\n  \"model\": \"{{$randomFirstName}}\",\n  \"color\": \"White\",\n  \"year\": \"2021\",\n  \"mileage\": \"10000\",\n  \"imageUrl\": \"https://cdn.pixabay.com/photo/2018/02/04/15/45/car-3130111_960_720.jpg\",\n  \"reservePrice\": 10,\n  \"auctionEnd\": \"{{dateString}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "http://app.auctionnext.com/auctions"
					},
					"response": []
				},
				{
					"name": "Get Created Auction with finished filter",
					"id": "5077a206-d09d-45b8-b1cd-083107e4520a",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway}}/search?pageSize=100&searchTerm={{createdItemModel}}&filterBy=finished",
							"host": [
								"{{gateway}}"
							],
							"path": [
								"search"
							],
							"query": [
								{
									"key": "pageSize",
									"value": "100"
								},
								{
									"key": "searchTerm",
									"value": "{{createdItemModel}}"
								},
								{
									"key": "filterBy",
									"value": "finished"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Bid on Seeded Auction (test grpc)",
					"id": "bca790cc-360e-4f84-bf2b-85b7042dc675",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{AliceToken}}"
							}
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{bidSvc}}/api/bids?auctionId=6a5011a1-fe1f-47df-9a32-b5346b289391&amount=100",
							"host": [
								"{{bidSvc}}"
							],
							"path": [
								"api",
								"bids"
							],
							"query": [
								{
									"key": "auctionId",
									"value": "6a5011a1-fe1f-47df-9a32-b5346b289391"
								},
								{
									"key": "amount",
									"value": "100"
								}
							]
						}
					},
					"response": []
				}
			],
			"id": "4ddb4d78-d09a-483b-a23a-2cf1e94de11e"
		},
		{
			"name": "Payment",
			"item": [
				{
					"name": "New Request",
					"id": "d7428d96-93f7-4afe-b64b-7bdd4338f035",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"stripeSessionUrl\": \"string\",\r\n  \"stripeSessionId\": \"string\",\r\n  \"approvedUrl\": \"string\",\r\n  \"cancelUrl\": \"string\",\r\n  \"auctionId\": \"0bab0135-d91d-4120-a1b9-83e6da262957\",\r\n  \"model\": \"string\",\r\n  \"soldAmount\": 100000\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:7005/api/payments/create",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "7005",
							"path": [
								"api",
								"payments",
								"create"
							],
							"query": [
								{
									"key": "auctionId",
									"value": "0bab0135-d91d-4120-a1b9-83e6da262957",
									"disabled": true
								},
								{
									"key": "soldAmount",
									"value": "100000",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "New Request Copy",
					"id": "e71c54f4-9614-45bc-adeb-346cfd9c2f2b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"stripeSessionUrl\": \"string\",\r\n  \"stripeSessionId\": \"string\",\r\n  \"approvedUrl\": \"string\",\r\n  \"cancelUrl\": \"string\",\r\n  \"auctionId\": \"0bab0135-d91d-4120-a1b9-83e6da262957\",\r\n  \"model\": \"string\",\r\n  \"soldAmount\": 100000\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://api.auctionnext.com/payments/",
							"protocol": "http",
							"host": [
								"api",
								"auctionnext",
								"com"
							],
							"path": [
								"payments",
								""
							],
							"query": [
								{
									"key": "auctionId",
									"value": "0bab0135-d91d-4120-a1b9-83e6da262957",
									"disabled": true
								},
								{
									"key": "soldAmount",
									"value": "100000",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			],
			"id": "f0d2eff2-5432-401d-bf40-4716ad693246"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "db1b4ca9-20b1-4ec1-87bd-80e55b71b6e4",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "e83ad09a-47c1-44df-afd2-5f024b753ffd",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "auctionApi",
			"value": "http://localhost:7001",
			"type": "string"
		},
		{
			"key": "searchApi",
			"value": "http://localhost:7002",
			"type": "string"
		},
		{
			"key": "bidSvc",
			"value": "http://localhost:7003",
			"type": "string"
		},
		{
			"key": "identitySvc",
			"value": "http://localhost:5000",
			"type": "string"
		},
		{
			"key": "gateway",
			"value": "http://localhost:6001",
			"type": "string"
		},
		{
			"key": "BobToken",
			"value": ""
		},
		{
			"key": "AliceToken",
			"value": ""
		},
		{
			"key": "TomToken",
			"value": ""
		},
		{
			"key": "createdItemId",
			"value": ""
		},
		{
			"key": "createdItemModel",
			"value": ""
		},
		{
			"key": "createdItemMake",
			"value": ""
		},
		{
			"key": "createdItemMileage",
			"value": ""
		},
		{
			"key": "paymentApi",
			"value": "http://localhost:7005/",
			"type": "string"
		}
	]
}